(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{17:function(e,t,a){e.exports={container:"HomePage_container__2cmsP",movie_pos:"HomePage_movie_pos__1CsDp",movie_size:"HomePage_movie_size__1GRQQ",movie_name:"HomePage_movie_name__2IAEy"}},18:function(e,t,a){e.exports={nav_bar:"Nav_nav_bar__l3i5D",nav_link:"Nav_nav_link__1pjD3",link_mod:"Nav_link_mod__3kqNS"}},19:function(e,t,a){e.exports={container:"MoviesPages_container__2Vrpu",movie_pos:"MoviesPages_movie_pos__2aizb",movie_size:"MoviesPages_movie_size__1pQz5",movie_name:"MoviesPages_movie_name__3_TZE"}},20:function(e,t,a){e.exports={cast_pos:"Cast_cast_pos__q1F8B",cast_size:"Cast_cast_size__3EsQq",cast_name:"Cast_cast_name__3Q4iN"}},21:function(e,t,a){e.exports={form_pos:"SearchBar_form_pos__2fPxl",form_size:"SearchBar_form_size__2XhNN",form_btn:"SearchBar_form_btn__1PYam"}},38:function(e,t,a){e.exports={rev_text:"Reviews_rev_text__3yE9e"}},40:function(e,t,a){e.exports=a(68)},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(35),o=a.n(r),i=a(9),s=a(2),l=a(3),m=a(5),u=a(4),p=a(6),_=a(13),v="/",h="/movies",f="/movies/:movieId",b="/movies/:movieId/cast",g="/movies/:movieId/reviews",d=a(15),E=a.n(d),y="81d4397645ad96b495f4ebbeead1090d",O=function(){return E.a.get("https://api.themoviedb.org/3/trending/movie/week?api_key=".concat(y))},k=function(e){return E.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(y,"&language=ru-RU"))},j=function(e){return E.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(y,"&language=ru-RU&query=").concat(e,"&page=1&include_adult=false"))},N=function(e){return E.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(y))},w=function(e){return E.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(y,"&language=en-US&page=1"))},P=a(17),S=a.n(P),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={movies:[]},a.fetchMovies=function(){O().then((function(e){return a.setState({movies:e.data.results})}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchMovies()}},{key:"render",value:function(){var e=this.state.movies;return c.a.createElement("div",{className:S.a.container},c.a.createElement("ul",{className:S.a.movie_pos},e.length>0&&e.map((function(e){return c.a.createElement("li",{key:e.id,className:S.a.movie_size},c.a.createElement(i.b,{to:"".concat(h,"/").concat(e.id),className:S.a.movie_name},c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""}),c.a.createElement("p",null,e.title||e.name)))}))))}}]),t}(n.Component),D=a(18),M=a.n(D),C=function(){return c.a.createElement("header",{className:M.a.nav_bar},c.a.createElement("ul",{className:M.a.nav_link},c.a.createElement("li",null,c.a.createElement(i.c,{to:v,className:M.a.link_mod},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),c.a.createElement("li",null,c.a.createElement(i.c,{to:h,className:M.a.link_mod},"\u0424\u0438\u043b\u044c\u043c\u044b"))))},x=a(20),A=a.n(x),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={actors:[]},a.fetchActors=function(){var e=a.props.match;N(e.params.movieId).then((function(e){a.setState({actors:e.data.cast})}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchActors()}},{key:"render",value:function(){var e=this.state.actors;return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:A.a.cast_pos},e.map((function(e){return c.a.createElement("li",{key:e.id,className:A.a.cast_size},c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.profile_path),alt:""}),c.a.createElement("p",{className:A.a.cast_name},e.name," / ",e.character))})).slice(0,21)))}}]),t}(n.Component),B=a(38),I=a.n(B),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={reviews:[]},a.fetchReviews=function(){var e=a.props.match;w(e.params.movieId).then((function(e){a.setState({reviews:e.data.results})}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchReviews()}},{key:"render",value:function(){var e=this.state.reviews;return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,e.map((function(e){return c.a.createElement("li",{key:e.id,className:I.a.rev_text},c.a.createElement("h3",null,e.author),c.a.createElement("p",null,e.content))}))))}}]),t}(n.Component),F=a(7),Q=a.n(F),q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={film:{genres:[]}},a.fetchMovie=function(){var e=a.props.match.params.movieId;k(e).then((function(e){return a.setState({film:e.data})}))},a.handleGoBack=function(){a.props.history.goBack()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.fetchMovie()}},{key:"render",value:function(){var e=this.state.film,t=this.props.match,a=e.genres.reduce((function(e,t){return"".concat(e," ").concat(t.name,",")}),"");return c.a.createElement("div",{className:Q.a.background},c.a.createElement("div",{className:Q.a.container},c.a.createElement("button",{type:"button",onClick:this.handleGoBack,className:Q.a.btn},"\u041d\u0430\u0437\u0430\u0434"),c.a.createElement("div",{className:Q.a.info_pos},c.a.createElement("div",null,c.a.createElement("h2",null,e.title," (",(e.release_date||"").slice(0,4),")"),c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"",className:Q.a.pic_size})),c.a.createElement("div",{className:Q.a.about_size},c.a.createElement("h3",{className:Q.a.info_size},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: "),c.a.createElement("p",null,e.overview),c.a.createElement("h3",{className:Q.a.info_size},"\u041e\u0446\u0435\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:"),c.a.createElement("p",null,10*e.vote_average," %"),c.a.createElement("h3",{className:Q.a.info_size},"\u0416\u0430\u043d\u0440:"),c.a.createElement("p",null,a))),c.a.createElement("ul",{className:Q.a.cast},c.a.createElement("li",null,c.a.createElement(i.b,{to:"".concat(t.url,"/cast"),className:Q.a.cast_link},"\u0412 \u0440\u043e\u043b\u044f\u0445")),c.a.createElement("li",{className:Q.a.cast_link},c.a.createElement(i.b,{to:"".concat(t.url,"/reviews"),className:Q.a.cast_link},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438:"))),c.a.createElement(_.c,null,c.a.createElement(_.a,{path:b,component:R}),c.a.createElement(_.a,{path:g,component:U}))))}}]),t}(n.Component),G=a(39),H=a(21),J=a.n(H),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),(0,a.props.onSubmit)(a.state.value),a.setState({value:""})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.value;return c.a.createElement("form",{onSubmit:this.handleSubmit,className:J.a.form_pos},c.a.createElement("input",{className:J.a.form_size,onSubmit:this.handleSubmit,type:"text",onChange:this.handleChange,value:e,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430"}),c.a.createElement("button",{type:"submit",className:J.a.form_btn},"\u041f\u043e\u0438\u0441\u043a"))}}]),t}(n.Component),T=a(19),X=a.n(T);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={films:[]},a.fetchFilms=function(e){j(e).then((function(e){return a.setState({films:e.data.results})}))},a.onSearchSubmit=function(e){var t=a.props,n=t.history,c=t.location;n.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(G.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},c,{search:"?query=".concat(e)}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=new URLSearchParams(e.search).get("search");t&&this.fetchFilms(t)}},{key:"componentDidUpdate",value:function(e){var t=new URLSearchParams(e.location.search).get("search"),a=this.props.location,n=new URLSearchParams(a.search).get("search");t&&t===n||this.fetchFilms(n)}},{key:"render",value:function(){var e=this.state.films;return c.a.createElement("div",{className:X.a.container},c.a.createElement(L,{onSubmit:this.onSearchSubmit}),c.a.createElement("ul",{className:X.a.movie_pos},e.length>0&&e.map((function(e){return c.a.createElement("li",{key:e.id,className:X.a.movie_size},c.a.createElement(i.c,{to:"".concat(h,"/").concat(e.id),className:X.a.movie_name},c.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""}),c.a.createElement("p",null,e.title)))}))))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Roboto&display=swap",rel:"stylesheet"}),c.a.createElement(C,null),c.a.createElement(_.c,null,c.a.createElement(_.a,{path:v,exact:!0,component:z}),c.a.createElement(_.a,{path:f,component:q}),c.a.createElement(_.a,{path:h,component:K})))}}]),t}(n.Component);a(67);o.a.render(c.a.createElement(i.a,null,c.a.createElement(V,null)),document.getElementById("root"))},7:function(e,t,a){e.exports={background:"MovieDetailsPage_background__2Zgss",container:"MovieDetailsPage_container__1Imz5",pic_size:"MovieDetailsPage_pic_size__wKwnQ",info_pos:"MovieDetailsPage_info_pos__15Ayz",about_size:"MovieDetailsPage_about_size__1aUhE",info_size:"MovieDetailsPage_info_size__3XsgS",cast:"MovieDetailsPage_cast__1Gi4J",cast_link:"MovieDetailsPage_cast_link__w21TB",btn:"MovieDetailsPage_btn__15Uv9"}}},[[40,1,2]]]);
//# sourceMappingURL=main.efc80fa8.chunk.js.map