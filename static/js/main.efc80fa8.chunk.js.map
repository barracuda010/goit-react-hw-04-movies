{"version":3,"sources":["pages/HomePage/HomePage.module.css","components/Navigation/Nav.module.css","pages/MoviesPages/MoviesPages.module.css","pages/Cast/Cast.module.css","components/SearchBar/SearchBar.module.css","pages/Reviews/Reviews.module.css","routes.js","movie-api.js","pages/HomePage/HomePage.js","components/Navigation/Nav.js","pages/Cast/Cast.js","pages/Reviews/Reviews.js","pages/MovieDetailsPage/MovieDetailsPage.js","components/SearchBar/SearchBar.js","pages/MoviesPages/MoviesPages.js","App.js","index.js","pages/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["module","exports","apiKey","popularMovies","axios","get","exactMovie","id","searchMovie","query","filmCharacters","filmReviews","HomePage","state","movies","fetchMovies","API","then","res","setState","data","results","this","className","styles","container","movie_pos","length","map","el","key","movie_size","to","routes","movie_name","src","poster_path","alt","title","name","Component","Nav","nav_bar","nav_link","link_mod","Cast","actors","fetchActors","match","props","params","movieId","cast","cast_pos","cast_size","profile_path","cast_name","character","slice","Reviews","reviews","fetchReviews","rev_text","author","content","MoviesDetailsPage","film","genres","fetchMovie","filmId","handleGoBack","history","goBack","reduce","acc","background","type","onClick","btn","info_pos","release_date","pic_size","about_size","info_size","overview","vote_average","url","cast_link","path","component","SearchBar","value","handleChange","e","target","handleSubmit","preventDefault","onSubmit","form_pos","form_size","onChange","placeholder","form_btn","MoviesPages","films","fetchFilms","q","onSearchSubmit","location","push","search","currentSearch","URLSearchParams","prevProps","prevSearch","App","href","rel","exact","MovieDetailsPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.efc80fa8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomePage_container__2cmsP\",\"movie_pos\":\"HomePage_movie_pos__1CsDp\",\"movie_size\":\"HomePage_movie_size__1GRQQ\",\"movie_name\":\"HomePage_movie_name__2IAEy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_bar\":\"Nav_nav_bar__l3i5D\",\"nav_link\":\"Nav_nav_link__1pjD3\",\"link_mod\":\"Nav_link_mod__3kqNS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MoviesPages_container__2Vrpu\",\"movie_pos\":\"MoviesPages_movie_pos__2aizb\",\"movie_size\":\"MoviesPages_movie_size__1pQz5\",\"movie_name\":\"MoviesPages_movie_name__3_TZE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cast_pos\":\"Cast_cast_pos__q1F8B\",\"cast_size\":\"Cast_cast_size__3EsQq\",\"cast_name\":\"Cast_cast_name__3Q4iN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_pos\":\"SearchBar_form_pos__2fPxl\",\"form_size\":\"SearchBar_form_size__2XhNN\",\"form_btn\":\"SearchBar_form_btn__1PYam\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rev_text\":\"Reviews_rev_text__3yE9e\"};","export default {\n  HOME: '/',\n  MOVIES: '/movies',\n  MOVIES_ID: '/movies/:movieId',\n  MOVIES_CAST: '/movies/:movieId/cast',\n  MOVIES_REVIEWS: '/movies/:movieId/reviews',\n};\n","import axios from 'axios';\n\nconst apiKey = '81d4397645ad96b495f4ebbeead1090d';\n\nexport const popularMovies = () =>\n  axios.get(\n    `https://api.themoviedb.org/3/trending/movie/week?api_key=${apiKey}`,\n  );\n\nexport const exactMovie = id =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${apiKey}&language=ru-RU`,\n  );\n\nexport const searchMovie = query =>\n  axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=ru-RU&query=${query}&page=1&include_adult=false`,\n  );\n\nexport const filmCharacters = id =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${apiKey}`,\n  );\n\nexport const filmReviews = id =>\n  axios.get(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${apiKey}&language=en-US&page=1`,\n  );\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as API from '../../movie-api';\nimport routes from '../../routes';\nimport styles from './HomePage.module.css';\n\nexport default class HomePage extends Component {\n  state = {\n    movies: [],\n  };\n\n  componentDidMount() {\n    this.fetchMovies();\n  }\n\n  fetchMovies = () => {\n    API.popularMovies().then(res =>\n      this.setState({ movies: res.data.results }),\n    );\n  };\n\n  render() {\n    const { movies } = this.state;\n    return (\n      <div className={styles.container}>\n        <ul className={styles.movie_pos}>\n          {movies.length > 0 &&\n            movies.map(el => (\n              <li key={el.id} className={styles.movie_size}>\n                <Link\n                  to={`${routes.MOVIES}/${el.id}`}\n                  className={styles.movie_name}\n                >\n                  <img\n                    src={`https://image.tmdb.org/t/p/w500${el.poster_path}`}\n                    alt=\"\"\n                  />\n                  <p>{el.title || el.name}</p>\n                </Link>\n              </li>\n            ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport routes from '../../routes';\nimport styles from './Nav.module.css';\n\nconst Nav = () => {\n  return (\n    <header className={styles.nav_bar}>\n      <ul className={styles.nav_link}>\n        <li>\n          <NavLink to={routes.HOME} className={styles.link_mod}>\n            Главная\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to={routes.MOVIES} className={styles.link_mod}>\n            Фильмы\n          </NavLink>\n        </li>\n      </ul>\n    </header>\n  );\n};\n\nexport default Nav;\n","import React, { Component } from 'react';\nimport p from 'prop-types';\nimport * as API from '../../movie-api';\nimport styles from './Cast.module.css';\n\nexport default class Cast extends Component {\n  static propTypes = {\n    match: p.shape({}),\n    params: p.object,\n    movieId: p.string,\n  }.isRequired;\n\n  state = {\n    actors: [],\n  };\n\n  componentDidMount() {\n    this.fetchActors();\n  }\n\n  fetchActors = () => {\n    const { match } = this.props;\n    API.filmCharacters(match.params.movieId).then(res => {\n      this.setState({ actors: res.data.cast });\n    });\n  };\n\n  render() {\n    const { actors } = this.state;\n    return (\n      <>\n        <ul className={styles.cast_pos}>\n          {actors\n            .map(el => (\n              <li key={el.id} className={styles.cast_size}>\n                <img\n                  src={`https://image.tmdb.org/t/p/w500${el.profile_path}`}\n                  alt=\"\"\n                />\n                <p className={styles.cast_name}>\n                  {el.name} / {el.character}\n                </p>\n              </li>\n            ))\n            .slice(0, 21)}\n        </ul>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport p from 'prop-types';\nimport * as API from '../../movie-api';\nimport styles from './Reviews.module.css';\n\nexport default class Reviews extends Component {\n  static propTypes = {\n    match: p.shape({}),\n    params: p.object,\n    movieId: p.string,\n  }.isRequired;\n\n  state = {\n    reviews: [],\n  };\n\n  componentDidMount() {\n    this.fetchReviews();\n  }\n\n  fetchReviews = () => {\n    const { match } = this.props;\n    API.filmReviews(match.params.movieId).then(res => {\n      this.setState({ reviews: res.data.results });\n    });\n  };\n\n  render() {\n    const { reviews } = this.state;\n    return (\n      <>\n        <ul>\n          {reviews.map(el => (\n            <li key={el.id} className={styles.rev_text}>\n              <h3>{el.author}</h3>\n              <p>{el.content}</p>\n            </li>\n          ))}\n        </ul>\n      </>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link, Route, Switch } from 'react-router-dom';\nimport p from 'prop-types';\nimport Cast from '../Cast/Cast';\nimport Reviews from '../Reviews/Reviews';\nimport * as API from '../../movie-api';\nimport routes from '../../routes';\nimport styles from './MovieDetailsPage.module.css';\n\nexport default class MoviesDetailsPage extends Component {\n  static propTypes = {\n    match: p.object,\n    params: p.object,\n    movieId: p.string,\n    history: p.object,\n    goBack: p.func,\n  }.isRequired;\n\n  state = {\n    film: { genres: [] },\n  };\n\n  componentDidMount() {\n    this.fetchMovie();\n  }\n\n  fetchMovie = () => {\n    const { match } = this.props;\n    const filmId = match.params.movieId;\n    API.exactMovie(filmId).then(res => this.setState({ film: res.data }));\n  };\n\n  handleGoBack = () => {\n    const { history } = this.props;\n    history.goBack();\n  };\n\n  render() {\n    const { film } = this.state;\n    const { match } = this.props;\n    const genres = film.genres.reduce((acc, el) => `${acc} ${el.name},`, '');\n    return (\n      <div className={styles.background}>\n        <div className={styles.container}>\n          <button\n            type=\"button\"\n            onClick={this.handleGoBack}\n            className={styles.btn}\n          >\n            Назад\n          </button>\n          <div className={styles.info_pos}>\n            <div>\n              <h2>\n                {film.title} ({(film.release_date || '').slice(0, 4)})\n              </h2>\n              <img\n                src={`https://image.tmdb.org/t/p/w500${film.poster_path}`}\n                alt=\"\"\n                className={styles.pic_size}\n              />\n            </div>\n            <div className={styles.about_size}>\n              <h3 className={styles.info_size}>Описание: </h3>\n              <p>{film.overview}</p>\n              <h3 className={styles.info_size}>Оценка пользователя:</h3>\n              <p>{film.vote_average * 10} %</p>\n              <h3 className={styles.info_size}>Жанр:</h3>\n              <p>{genres}</p>\n            </div>\n          </div>\n          <ul className={styles.cast}>\n            <li>\n              <Link to={`${match.url}/cast`} className={styles.cast_link}>\n                В ролях\n              </Link>\n            </li>\n            <li className={styles.cast_link}>\n              <Link to={`${match.url}/reviews`} className={styles.cast_link}>\n                Комментарии:\n              </Link>\n            </li>\n          </ul>\n          <Switch>\n            <Route path={routes.MOVIES_CAST} component={Cast} />\n            <Route path={routes.MOVIES_REVIEWS} component={Reviews} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport p from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: p.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit} className={styles.form_pos}>\n        <input\n          className={styles.form_size}\n          onSubmit={this.handleSubmit}\n          type=\"text\"\n          onChange={this.handleChange}\n          value={value}\n          placeholder=\"Введите название фильма\"\n        />\n        <button type=\"submit\" className={styles.form_btn}>\n          Поиск\n        </button>\n      </form>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport p from 'prop-types';\nimport routes from '../../routes';\nimport SearchBar from '../../components/SearchBar/SearchBar';\nimport * as API from '../../movie-api';\nimport styles from './MoviesPages.module.css';\n\nexport default class MoviesPages extends Component {\n  static propTypes = {\n    location: p.object,\n    search: p.string,\n    history: p.object,\n    push: p.object,\n  }.isRequired;\n\n  state = {\n    films: [],\n  };\n\n  componentDidMount() {\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n    if (!currentSearch) {\n      return;\n    }\n    this.fetchFilms(currentSearch);\n  }\n\n  componentDidUpdate(prevProps) {\n    const prevSearch = new URLSearchParams(prevProps.location.search).get(\n      'search',\n    );\n    const { location } = this.props;\n    const currentSearch = new URLSearchParams(location.search).get('search');\n    if (prevSearch && prevSearch === currentSearch) {\n      return;\n    }\n    this.fetchFilms(currentSearch);\n  }\n\n  fetchFilms = q => {\n    API.searchMovie(q).then(res => this.setState({ films: res.data.results }));\n  };\n\n  onSearchSubmit = query => {\n    const { history, location } = this.props;\n    history.push({\n      ...location,\n      search: `?query=${query}`,\n    });\n  };\n\n  render() {\n    const { films } = this.state;\n    return (\n      <div className={styles.container}>\n        <SearchBar onSubmit={this.onSearchSubmit} />\n        <ul className={styles.movie_pos}>\n          {films.length > 0 &&\n            films.map(el => (\n              <li key={el.id} className={styles.movie_size}>\n                <NavLink\n                  to={`${routes.MOVIES}/${el.id}`}\n                  className={styles.movie_name}\n                >\n                  <img\n                    src={`https://image.tmdb.org/t/p/w500${el.poster_path}`}\n                    alt=\"\"\n                  />\n                  <p>{el.title}</p>\n                </NavLink>\n              </li>\n            ))}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport routes from './routes';\nimport HomePage from './pages/HomePage/HomePage';\nimport Navigation from './components/Navigation/Nav';\nimport MovieDetailsPage from './pages/MovieDetailsPage/MovieDetailsPage';\nimport MoviesPages from './pages/MoviesPages/MoviesPages';\n\nexport default class App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <link\n          href=\"https://fonts.googleapis.com/css?family=Roboto&display=swap\"\n          rel=\"stylesheet\"\n        />\n        <Navigation />\n        <Switch>\n          <Route path={routes.HOME} exact component={HomePage} />\n          <Route path={routes.MOVIES_ID} component={MovieDetailsPage} />\n          <Route path={routes.MOVIES} component={MoviesPages} />\n        </Switch>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport './styles.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"background\":\"MovieDetailsPage_background__2Zgss\",\"container\":\"MovieDetailsPage_container__1Imz5\",\"pic_size\":\"MovieDetailsPage_pic_size__wKwnQ\",\"info_pos\":\"MovieDetailsPage_info_pos__15Ayz\",\"about_size\":\"MovieDetailsPage_about_size__1aUhE\",\"info_size\":\"MovieDetailsPage_info_size__3XsgS\",\"cast\":\"MovieDetailsPage_cast__1Gi4J\",\"cast_link\":\"MovieDetailsPage_cast_link__w21TB\",\"btn\":\"MovieDetailsPage_btn__15Uv9\"};"],"sourceRoot":""}